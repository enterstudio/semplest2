@using Semplest.Core.Helpers
@using Semplest.SharedResources.Helpers
@model SemplestModel.PromotionAd
<div class="ads">
    <fieldset style="padding-bottom: 15px;">
        <legend>Ad #</legend>
        <div class="content">
            <ul class="options" id="@Html.ClientIdFor(t => t.PromotionAdsPK)_ul">
                <li>@Html.HiddenFor(t => t.PromotionAdsPK)
                    <label style="min-width: 65px">
                        Title <a href ="#" class="help-button" id="helpbutton8" rel="@System.Configuration.ConfigurationManager.AppSettings["ClueHelpUrl"]8"  tabindex="-1" >
                            ?</a></label>
                    @Html.TextBoxFor(m => m.AdTitle, new { @class = "k-textbox k-textboxAdDescrition alpha", @required = true, @validationmessage = "Please enter Title", @maxlength = 25 })
                    @Html.ValidationMessageFor(t => t.AdTitle)
                    <label class="hint">
                        25 characters max.</label>
                </li>
                <li>
                    <label style="vertical-align: top; min-width: 65px">
                        Ad Copy <a href ="#" class="help-button" id="helpbutton9" rel="@System.Configuration.ConfigurationManager.AppSettings["ClueHelpUrl"]9"  tabindex="-1" >
                            ?</a></label>
                    @Html.TextBoxFor(m => m.AdTextLine1, new { @class = "k-textbox k-textboxAdDescrition alpha", @required = true, @validationmessage = "Please enter Ad Text", @maxlength = 35 })
                    <label class="hint">
                        35 characters max.</label>
                    @Html.TextBoxFor(m => m.AdTextLine2, new { @class = "k-textbox k-textboxAdDescrition hint alpha", @maxlength = 35 })
                    <label class="hint">
                        35 characters max.</label>
                </li>
                <li>
                    <div style="display: inline-block; vert-align: top; overflow: hidden; width: 600px;margin-left: 75px">
                        @Html.LinkToRemoveNestedForm("Delete Ad Group", "div.ads", "input.mark-for-delete")
                        <button type="button" class="additionalLinks k-button">
                            <span class="k-add k-icon"></span>Add additional click through options</button>
                        <a href ="#" class="help-button" id="helpbutton10" rel="@System.Configuration.ConfigurationManager.AppSettings["ClueHelpUrl"]10"  tabindex="-1" >
                            ?</a>
                        @Html.HiddenFor(x => x.Delete, new { @class = "mark-for-delete" })
                    </div>
                </li>
            </ul>
        </div>
        <div class="content2">
            <div class="example">
                <div class="k-header product-view">
                    <div class="right">
                    </div>
                    <div id="@Html.ClientIdFor(t => t.PromotionAdsPK)_div">
                    </div>
                </div>
            </div>
        </div>
    </fieldset>
</div>
<style scoped>
    .hint
    {
        margin-left: 75px;
        margin-top: 5px;
    }
    .content
    {
        float: left;
        width: 350px; /* ie5win fudge begins */
    }
    .content2
    {
        float: right;
        width: 300px; /* ie5win fudge begins */
    }
    .example h3
    {
        padding: 5px 0;
        font-weight: normal;
        border-bottom: 1px solid #999;
        width: 300px;
    }
    .product-view
    {
        border-radius: 5px 5px 5px 5px;
        border-style: solid;
        border-width: 1px;
        overflow: hidden;
        width: 270px;
        padding: 3px 3px 0 10px;
        background-position: 0 -255px;
    }
    .product-view1
    {
        overflow: hidden;
        width: 100;
        padding: 3px 3px 0 20px;
        background-position: 0 -255px;
    }
    
    .right
    {
        float: right;
    }
    
    .fieldlist
    {
        width: 100%;
        float: left;
        margin: 0;
        padding: 5px 0 10px 0;
    }
    
    .fieldlist li
    {
        list-style: none;
        padding: 5px 0;
    }
    .fieldlist label
    {
        display: inline-block;
        width: 120px;
        text-align: right;
    }

    .ads {
        background-color: #F0EEEF;
    }
</style>
<script type="text/x-kendo-template" id="template">
    <h3>Ad \\##= id # Preview </h3>
    <ul class="fieldlist">
    <li><a   target="__blank" style="font-weight:bold;color:blue;text-decoration:underline">#= twitter #</a></li>
    <li>#= content #</li>
    <li>#= content1 #</li>
    <li ><a style="color:green;" target="__blank">#= title #</a></li>
</script>
<script>
    var template = kendo.template($("#template").html());

    $("#@Html.ClientIdFor(t => t.PromotionAdsPK)_div").html(template({
        id: "1",
        title: $("#AdModelProp_Url").val(),
        twitter: $("#@Html.ClientIdFor(t => t.AdTitle)").val(),
        content: $("#@Html.ClientIdFor(t => t.AdTextLine1)").val(),
        content1: $("#@Html.ClientIdFor(t => t.AdTextLine2)").val()
    }));
    $("#@Html.ClientIdFor(t => t.AdTitle)").attr("data-bind", "events: { change: listener}");
    $("#@Html.ClientIdFor(t => t.AdTextLine1)").attr("data-bind", "events: { change: listener}");
    $("#@Html.ClientIdFor(t => t.AdTextLine2)").attr("data-bind", "events: { change: listener}");
    var viewModel = kendo.observable({
        listener: function (e) {
            $("#@Html.ClientIdFor(t => t.PromotionAdsPK)_div").html(template({
                id: "1",
                title: $("#AdModelProp_Url").val(),
                twitter: $("#@Html.ClientIdFor(t => t.AdTitle)").val(),
                content: $("#@Html.ClientIdFor(t => t.AdTextLine1)").val(),
                content1: $("#@Html.ClientIdFor(t => t.AdTextLine2)").val()
            }));
        }
    });
    kendo.bind($("#@Html.ClientIdFor(t => t.PromotionAdsPK)_ul"), viewModel);
    
</script>
<script src="@Url.Content("~/Scripts/AdditionalLinks.js")" type="text/javascript"> </script>
