@model Semplest.Core.Models.CampaignSetupModel
<script src="@Url.Content("~/Scripts/jquery.validate.min.js")" type="text/javascript"> </script>
    <script src="@Url.Content("~/Scripts/jquery.validate.unobtrusive.js")" type="text/javascript"> </script>
    <script src="@Url.Content("~/Scripts/conditional-validation.js")" type="text/javascript"></script>
@Html.AntiForgeryToken()
@{
    ViewBag.Title = "Campaign";
    Layout = "~/Views/Campaign/_Layout.cshtml";
}
<style>
    .enddate
    {
        display: none;
        visibility: hidden;
    }
</style>
<link href="@Url.Content("~/Content/formStyle.css")"  rel="Stylesheet" />
@section Title{
Ad Setup
}

@section headscript{

    <script src="@Url.Content("~/Scripts/jquery.maskedinput-1.3.js")" type="text/javascript"></script>
    
}

@section Links{
    <div >
        <input type="button" class="k-button k-state-btnerror rounded" value="My Account" id="btnMyAccount" />
        <input type="button" class="k-button rounded" value="Ad Setup" id="btnAdSetup" />
        <input type="button" class="k-button rounded" value="Reporting" id="btnReporting" />
        <input type="button" class="k-button rounded" value="Billing" id="btnBilling" />
    </div>
}
@section SectionNav{
    <div id="examplesThemeChooser">
        Step 1 of 3
        <input type="button" class="k-button k-state-btnerror rounded" value="1" id="btnOne" />
        <input type="button" class="k-button rounded" value="2" id="btnTwo" />
        <input type="button" class="k-button rounded" value="3" id="btnThree" />
    </div>
}
@section Navbar{
    <div id="panelbar-images">
    </div>
    <script src="@Url.Content("~/Scripts/PanelBar.js")" type="text/javascript"> </script>
}
<div id="exampleWrap">
    <div id="example" class="k-content">
        @using (Ajax.BeginForm("CampaignSetup", "Campaign", new AjaxOptions { HttpMethod = "Post", OnSuccess = "OnSuccess", OnBegin = "OnBegin", OnFailure = "OnFailure" }))
        {
            @Html.ValidationSummary(true)
            <div id="tabstrip">
                <ul>
                    <li class="k-state-active">DEFINE PRODUCT</li>
                    <li>CREATE ADS</li>
                </ul>
                <div>
                    @Html.EditorFor(t => t.ProductGroup)
                </div>
                <div>
                    @Html.EditorFor(t=>t.AdModelProp)
                </div>
            </div>
        }
    </div>
</div>
<script type="text/javascript">
    var onActivate = function () {
        switch (tabStrip.select().text()) {
            case "DEFINE PRODUCT":
                $("input[type='button']#btnOne").addClass('k-state-btnerror');
                $("input[type='button']#btnTwo").removeClass('k-state-btnerror');
                $("input[type='button']#btnThree").removeClass('k-state-btnerror');
                break;
            case "CREATE ADS":
                $("input[type='button']#btnOne").removeClass('k-state-btnerror');
                $("input[type='button']#btnTwo").addClass('k-state-btnerror');
                $("input[type='button']#btnThree").removeClass('k-state-btnerror');
                break;
            case 'Additional Click Through Links("SiteLinks")':
                $("input[type='button']#btnOne").removeClass('k-state-btnerror');
                $("input[type='button']#btnTwo").removeClass('k-state-btnerror');
                $("input[type='button']#btnThree").addClass('k-state-btnerror');
                break;
            case "Negative Keywords":
                $("input[type='button']#btnOne").removeClass('k-state-btnerror');
                $("input[type='button']#btnTwo").removeClass('k-state-btnerror');
                $("input[type='button']#btnThree").removeClass('k-state-btnerror');
                break;
        }
    };

    //Generate Tab
    var tabStrip = $("#tabstrip").kendoTabStrip({ activate: onActivate }).data("kendoTabStrip");

    // Start Enable tabs region
    var tab = tabStrip.select();

    tabStrip.enable(tab.next(), tab.next().hasClass("k-state-disabled"));

    function OnBegin() {
        //alert('Success');
        $.blockUI({ message: '<h1><img src="@Url.Content("~/Content/Metro/loading.gif")" /> Just a moment...</h1>'
        });
    }
    function OnSuccess(id) {
        $.unblockUI();
        var tab;
        //alert(id);
        if (id == "Categories") {
            if (!tabStrip.tabGroup.children('li:contains("' + id + '")').text()) {
                tabStrip.append({
                    text: "Categories",
                    contentUrl: '@Url.Action("Categories")'
                }, tabStrip.tabGroup.children("li:last")).select();
                tab = tabStrip.tabGroup.children('li:contains("' + id + '")');
                tabStrip.select(tab);
            } else {
                tab = tabStrip.tabGroup.children('li:contains("' + id + '")');
                tabStrip.select(tab);
            }
        }
        else if (id == "BillingLaunch") {
            if (!tabStrip.tabGroup.children('li:contains("' + id + '")').text()) {
                tabStrip.append({
                    text: "BillingLaunch",
                    contentUrl: '@Url.Action("BillingLaunch")'
                }, tabStrip.tabGroup.children("li:last")).select();
                tab = tabStrip.tabGroup.children('li:contains("' + id + '")');
                tabStrip.select(tab);
            } else {
                tab = tabStrip.tabGroup.children('li:contains("' + id + '")');
                tabStrip.select(tab);
            }
        }
        else if (id == "AdditionalLinks" || id == "NegativeKeywords") {
            tab = tabStrip.select();
            var otherTab = tab.prev();
            tabStrip.remove(tab);
            tabStrip.select(otherTab);
        }
        else if (id == "Keywords" || id == "KeyWords" || id == "viewSelectedKeywords") {
            if (!tabStrip.tabGroup.children('li:contains("' + id + '")').text()) {
                tabStrip.append({
                    text: "View Keywords",
                    contentUrl: '@Url.Action("KeyWords")'
                }, tabStrip.tabGroup.children("li:last")).select();
                tab = tabStrip.tabGroup.children('li:contains("' + id + '")');
                tabStrip.select(tab);
            } else {
                tab = tabStrip.tabGroup.children('li:contains("' + id + '")');
                tabStrip.select(tab);
            }
        }

    }
    function OnFailure(ajaxContext) {
        $.unblockUI();
        //        var response = ajaxContext.responseText;
        //        alert(response);
    }

</script>
<script src="@Url.Content("~/Scripts/CampaignSetup.js")" type="text/javascript"> </script>
<script src="@Url.Content("~/Scripts/AdditionalLinks.js")" type="text/javascript"> </script>



<script type="text/javascript">
    $('#btnMyAccount').click(function () {
        window.location.href = '../Home/Index2';
        return false;
    });
    $('#btnReporting').click(function () {
        window.location.href = '../Reporting/Index';
        return false;
    });
</script>